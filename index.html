<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JSON Viewer Pro - Formatter, Validator & Tree View</title>
<meta name="description" content="Free online JSON Viewer and Formatter. Convert JSON strings to a readable tree view, debug errors, and validate syntax.">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8069812939564057"
     crossorigin="anonymous"></script>
<style>
    /* --- 1. Theme Variables --- */
    :root {
        /* Default: Light Theme */
        --bg-color: #ffffff;
        --header-bg: #f3f3f3;
        --panel-bg: #ffffff;
        --text-color: #1f2937;
        --text-secondary: #4b5563;
        --border-color: #e5e7eb;
        --accent-color: #007acc;
        --accent-hover: #005fa3;
        --icon-color: #555555;
        --ad-bg: #f9fafb;
        --ad-border: #d1d5db;

        /* Syntax Highlighting */
        --key-color: #0451a5;
        --string-color: #a31515;
        --number-color: #098658;
        --boolean-true-color: #0000ff;
        --boolean-false-color: #d16100;
        --null-color: #0000ff;
        --guide-line-color: #e0e0e0;
    }

    /* Dark Theme Overrides */
    [data-theme="dark"] {
        --bg-color: #1e1e1e;
        --header-bg: #333333;
        --panel-bg: #252526;
        --text-color: #cccccc;
        --text-secondary: #999999;
        --border-color: #3e3e42;
        --accent-color: #007acc;
        --accent-hover: #0062a3;
        --icon-color: #ffffff;
        --ad-bg: #2d2d2d;
        --ad-border: #444444;

        /* Syntax Highlighting */
        --key-color: #9cdcfe;
        --string-color: #ce9178;
        --number-color: #b5cea8;
        --boolean-true-color: #569cd6;
        --boolean-false-color: #d7ba7d;
        --null-color: #569cd6;
        --guide-line-color: #404040;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 0;
        overflow-y: auto; 
        height: auto;
        min-height: 100vh;
        transition: background-color 0.3s, color 0.3s;
    }

    /* --- Header --- */
    header {
        height: 50px;
        background-color: var(--header-bg);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
        border-bottom: 1px solid var(--border-color);
    }

    h1 { font-size: 18px; font-weight: 600; margin: 0; color: var(--text-color); }

    .controls { display: flex; gap: 15px; align-items: center; }

    select {
        background: var(--panel-bg);
        color: var(--text-color);
        border: 1px solid var(--border-color);
        padding: 5px 10px;
        border-radius: 4px;
        outline: none;
        cursor: pointer;
    }

    .theme-btn {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 20px;
        padding: 5px;
        border-radius: 50%;
        color: var(--icon-color);
        transition: transform 0.2s;
    }
    .theme-btn:hover { transform: rotate(15deg); opacity: 0.8; }

    /* --- Ad Container --- */
    .ad-container {
        width: 100%;
        max-width: 94%;
        margin: 15px auto;
        padding: 10px;
        background-color: var(--ad-bg);
        border: 1px dashed var(--ad-border);
        border-radius: 6px;
        text-align: center;
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100px; 
    }
    .ad-label { font-size: 12px; color: var(--text-secondary); display: block; margin-bottom: 5px; opacity: 0.7; }

    /* --- Workspace --- */
    .workspace {
        width: 100%;
        max-width: 94%;
        margin: 0 auto;
        display: flex;
        padding: 0 10px;
        gap: 15px;
        height: 75vh; 
        min-height: 500px;
        box-sizing: border-box;
    }

    .panel {
        flex: 1;
        display: flex;
        flex-direction: column;
        background-color: var(--panel-bg);
        border: 1px solid var(--border-color);
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .panel-header {
        padding: 10px 15px;
        background-color: var(--header-bg);
        border-bottom: 1px solid var(--border-color);
        font-size: 13px;
        font-weight: 700;
        text-transform: uppercase;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: var(--text-color);
    }

    .icon-btn { cursor: pointer; opacity: 0.6; font-size: 16px; padding: 4px; border-radius: 4px; }
    .icon-btn:hover { opacity: 1; background-color: rgba(128,128,128,0.1); }

    textarea {
        flex: 1;
        background-color: var(--panel-bg);
        color: var(--text-color);
        border: none;
        padding: 15px;
        resize: none;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 14px;
        outline: none;
        line-height: 1.5;
    }

    .middle-bar {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 60px;
    }

    .action-btn {
        background-color: var(--accent-color);
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        transition: transform 0.1s, background-color 0.2s;
    }
    .action-btn:hover { background-color: var(--accent-hover); transform: scale(1.1); }

    /* --- Tree View Core --- */
    #tree-view {
        flex: 1;
        overflow: auto;
        padding: 15px;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 14px;
        line-height: 1.6;
    }

    ul { list-style: none; margin: 0; padding-left: 0; }
    ul li { position: relative; padding-left: 24px; }
    ul li::before {
        content: '';
        position: absolute;
        left: 11px;
        top: 0;
        bottom: 0;
        width: 1px;
        background-color: var(--guide-line-color);
    }
    ul li:last-child::before { height: 1.1em; }

    details > summary { cursor: pointer; outline: none; list-style: none; user-select: none; }
    details > summary::-webkit-details-marker { display: none; }
    details > summary::before { content: none; }

    .tree-node-wrapper { display: flex; align-items: center; border-radius: 3px; padding: 1px 0; }
    .tree-node-wrapper:hover { background-color: rgba(128, 128, 128, 0.08); }

    .tree-icon { width: 16px; height: 16px; margin-right: 6px; display: inline-flex; justify-content: center; align-items: center; font-size: 14px; color: var(--icon-color); }
    .tree-icon.folder::before { content: 'üìÇ'; font-size: 14px; opacity: 0.9; }
    .tree-icon.array::before { content: 'üìú'; font-size: 14px; opacity: 0.9; }
    .tree-icon.file::before { content: '‚Ä¢'; font-size: 18px; opacity: 0.5; line-height: 0.5; }
    .tree-icon.toggle-arrow { display: none !important; }

    #tree-view > details > ul > li::before { display: none; }
    #tree-view > details > ul { padding-left: 5px; }

    .key { color: var(--key-color); font-weight: 500; }
    .separator { color: var(--text-color); opacity: 0.6; margin: 0 6px 0 2px; }
    .string { color: var(--string-color); }
    .number { color: var(--number-color); }
    .boolean-true { color: var(--boolean-true-color); font-weight: bold; }
    .boolean-false { color: var(--boolean-false-color); font-weight: bold; }
    .null { color: var(--null-color); }
    .count { color: var(--text-color); opacity: 0.5; font-size: 0.9em; margin-left: 6px; }
    .error { color: #d32f2f; padding: 10px; background: rgba(255,0,0,0.05); border-radius: 4px; border: 1px solid #ffcdd2; }

    /* --- SEO Content Area --- */
    .json-seo-content {
        max-width: 1000px; 
        margin: 40px auto;
        padding: 0 20px 40px 20px;
        line-height: 1.8;
        color: var(--text-color);
    }
    .json-seo-content h2 {
        color: var(--accent-color);
        font-size: 1.5rem;
        margin-top: 30px;
        margin-bottom: 15px;
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 10px;
    }
    .json-seo-content p { margin-bottom: 15px; color: var(--text-secondary); }
    .json-seo-content ul { margin-bottom: 20px; padding-left: 20px; list-style: disc; color: var(--text-secondary); }
    .json-seo-content li { margin-bottom: 8px; }
    .json-seo-content strong { color: var(--text-color); }

    /* Mobile */
    @media (max-width: 768px) {
        .workspace { flex-direction: column; height: auto; }
        .middle-bar { width: 100%; height: 60px; flex-direction: row; }
        .action-btn { transform: rotate(90deg); }
        textarea { min-height: 200px; }
    }
</style>
</head>
<body data-theme="light">

<header>
    <h1 id="app-title">JSON Viewer Pro</h1>
    <div class="controls">
        <button class="theme-btn" onclick="toggleTheme()" id="btn-theme" title="Switch Theme">üåë</button>
        <select id="language-select" onchange="changeLanguage()">
            <option value="en" selected>English</option>
            <option value="zh">‰∏≠Êñá</option>
            <option value="fr">Fran√ßais</option>
            <option value="de">Deutsch</option>
            <option value="es">Espa√±ol</option>
        </select>
    </div>
</header>

<div class="ad-container">
    <div>
        <span class="ad-label">Advertisement</span>
        <div style="width: 728px; height: 90px; background: rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: center; color: #999;">
            Google AdSense Area (728x90)
        </div>
    </div>
</div>

<div class="workspace">
    <div class="panel">
        <div class="panel-header">
            <span id="lbl-input">Input JSON</span>
            <span class="icon-btn" onclick="clearInput()" id="btn-clear" title="Clear Input">üóëÔ∏è</span>
        </div>
        <textarea id="json-input" placeholder='{"paste": "your json here"}' spellcheck="false"></textarea>
    </div>

    <div class="middle-bar">
        <button class="action-btn" onclick="renderTree()" title="Generate">‚ûú</button>
    </div>

    <div class="panel">
        <div class="panel-header">
            <span id="lbl-output">Tree View</span>
            <span class="icon-btn" onclick="expandAll()" id="btn-expand" title="Expand All">üìÇ</span>
        </div>
        <div id="tree-view">
            <div style="opacity: 0.5; margin-top: 20px; text-align: center;" id="lbl-placeholder">Result...</div>
        </div>
    </div>
</div>

<section class="json-seo-content">
    <h2>Mastering Data with a JSON Formatter and Tree Viewer</h2>
    <p>
        In the modern web development landscape, <strong>JavaScript Object Notation (JSON)</strong> has established itself as the universal standard for data interchange. From RESTful APIs to configuration files, JSON is ubiquitous. However, raw JSON data returned from a server is often minified‚Äîstripped of whitespace to minimize file size‚Äîmaking it nearly impossible for humans to read. This is where a robust <strong>JSON Formatter and Tree Viewer</strong> becomes an essential utility for developers, data analysts, and software engineers.
    </p>
    <p>
        Whether you are trying to <strong>debug JSON</strong> errors, parse complex nested structures, or simply beautify a minified string, using an <strong>online JSON viewer</strong> simplifies the workflow. This guide explores the critical features of JSON tools, how to effectively <strong>json lint</strong> your code, and why visualizing data trees is crucial for productivity.
    </p>

    <h2>Why Use an Online JSON Viewer?</h2>
    <p>
        JSON is designed to be lightweight and easy for machines to parse, but "machine-readable" does not always mean "human-readable." When an API returns a large dataset, it often arrives as a single, continuous line of text. Without proper formatting, finding a specific key-value pair or identifying a syntax error is like looking for a needle in a haystack.
    </p>
    <p>
        An <strong>online JSON viewer</strong> transforms this raw text into a structured, legible format. It applies indentation, adds line breaks, and color-codes data types (strings, booleans, numbers, nulls) to improve cognitive processing. For developers working with third-party APIs or debugging backend responses, these tools bridge the gap between raw data and actionable insight.
    </p>

    <h2>Key Features of a JSON Formatter</h2>
    <p>
        Not all formatters are created equal. A high-quality tool provides more than just pretty-printing; it serves as a comprehensive integrated development environment (IDE) for data.
    </p>
    <ul>
        <li><strong>Syntax Highlighting:</strong> Differentiates between keys, values, and structural elements (brackets and braces) using distinct colors.</li>
        <li><strong>Tree View Visualization:</strong> The defining feature of a <strong>Tree Viewer</strong> is the ability to interact with the data. Users can collapse and expand objects and arrays, allowing them to navigate deep into nested structures without losing context.</li>
        <li><strong>Minification:</strong> While debugging requires spacing, deployment requires speed. A good tool can reverse the process, compressing your JSON back into a single line for production use.</li>
        <li><strong>Error Validation:</strong> Instant feedback on syntax errors, often pinpointing the exact line and character where the issue occurred.</li>
    </ul>

    <div class="ad-container" style="margin: 40px auto;">
        <div>
            <span class="ad-label">Advertisement</span>
            <div style="width: 300px; height: 250px; background: rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: center; color: #999;">
                Google AdSense (Responsive)
            </div>
        </div>
    </div>

    <h2>How to Debug JSON and Fix Errors</h2>
    <p>
        One of the most frustrating aspects of working with data is encountering a "SyntaxError: Unexpected token" message. This usually happens due to a missing comma, an unclosed bracket, or the use of single quotes instead of double quotes (a common mistake, as JSON strictly requires double quotes).
    </p>
    <p>
        To <strong>debug JSON</strong> effectively, you need a tool that acts as a <strong>JSON lint</strong> validator. "Linting" is the process of analyzing code for potential errors. When you paste your code into a validator:
    </p>
    <ul>
        <li>The tool scans the syntax against the official RFC 8259 standard.</li>
        <li>It highlights invalid characters or structural issues.</li>
        <li>It often suggests the correct fix, such as adding a missing brace `}` or removing a trailing comma.</li>
    </ul>
    <p>
        By integrating a <strong>json lint</strong> process into your workflow, you ensure that the data your application sends or receives is valid, preventing runtime crashes and logic errors downstream.
    </p>

    <h2>Navigating Complex Data with a Tree Viewer</h2>
    <p>
        Modern applications often handle massive datasets containing thousands of lines of code. Scrolling through a linear text file to find a specific user ID or transaction details is inefficient. A <strong>Tree Viewer</strong> solves this by rendering the JSON as an interactive hierarchy.
    </p>
    <p>
        Imagine a JSON object representing a company, containing arrays of employees, each with nested objects for contact details and project history. A tree view allows you to keep the high-level "Company" object open while selectively expanding only the "Projects" array of a specific employee. This "drill-down" capability is vital for analyzing large API responses without getting overwhelmed by irrelevant data.
    </p>

    <h2>Security and Privacy in Online Tools</h2>
    <p>
        When using an <strong>online JSON viewer</strong>, data privacy is a valid concern. Developers often handle sensitive information, such as API keys, user data, or proprietary configurations. The best tools process data entirely client-side. This means the JSON you paste into the browser is processed by JavaScript running on your local machine and is never sent to an external server.
    </p>
    <p>
        Always ensure you are using a tool that respects data privacy, especially when looking to <strong>debug JSON</strong> that contains sensitive production data. Client-side processing ensures that your data remains secure while you benefit from powerful formatting features.
    </p>
</section>

<script>
    // --- 1. Internationalization (i18n) ---
    const i18n = {
        en: {
            title: "JSON Viewer Pro",
            input: "Input JSON",
            output: "Tree View",
            placeholder: "Result will appear here...",
            btnGenerate: "Generate Tree View",
            clearHint: "Clear Input",
            expandHint: "Expand/Collapse All",
            themeHint: "Switch Theme",
            error: "Invalid JSON Format"
        },
        zh: {
            title: "JSON ÂèØËßÜÂåñÂ∑•ÂÖ∑",
            input: "ËæìÂÖ• JSON",
            output: "Ê†ëÁä∂ËßÜÂõæ",
            placeholder: "ÁªìÊûúÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå...",
            btnGenerate: "ÁîüÊàêÊ†ëÁä∂Âõæ",
            clearHint: "Ê∏ÖÁ©∫ËæìÂÖ•ÂÜÖÂÆπ",
            expandHint: "Â±ïÂºÄ/Êî∂Ëµ∑ÂÖ®ÈÉ®",
            themeHint: "ÂàáÊç¢‰∏ªÈ¢ò",
            error: "JSON Ê†ºÂºèÊó†Êïà"
        },
        fr: {
            title: "Visualiseur JSON",
            input: "Entr√©e JSON",
            output: "Vue Arborescente",
            placeholder: "Le r√©sultat appara√Ætra ici...",
            btnGenerate: "G√©n√©rer",
            clearHint: "Effacer l'entr√©e",
            expandHint: "Tout d√©velopper",
            themeHint: "Changer de th√®me",
            error: "Format JSON invalide"
        },
        de: {
            title: "JSON-Visualisierer",
            input: "JSON-Eingabe",
            output: "Baumansicht",
            placeholder: "Ergebnis erscheint hier...",
            btnGenerate: "Generieren",
            clearHint: "Eingabe l√∂schen",
            expandHint: "Alles erweitern",
            themeHint: "Thema wechseln",
            error: "Ung√ºltiges JSON-Format"
        },
        es: {
            title: "Visualizador JSON",
            input: "Entrada JSON",
            output: "Vista de √Årbol",
            placeholder: "El resultado aparecer√° aqu√≠...",
            btnGenerate: "Generar",
            clearHint: "Borrar entrada",
            expandHint: "Expandir todo",
            themeHint: "Cambiar tema",
            error: "Formato JSON inv√°lido"
        }
    };

    let currentLang = 'en';

    // --- 2. UI Control Functions ---

    function changeLanguage() {
        const select = document.getElementById('language-select');
        currentLang = select.value;
        const t = i18n[currentLang];

        document.getElementById('app-title').innerText = t.title;
        document.getElementById('lbl-input').innerText = t.input;
        document.getElementById('lbl-output').innerText = t.output;
        
        // Only update placeholder if result is empty
        const treeView = document.getElementById('tree-view');
        if (!treeView.querySelector('ul') && !treeView.querySelector('.error')) {
             document.getElementById('lbl-placeholder').innerText = t.placeholder;
        }

        document.querySelector('.action-btn').title = t.btnGenerate;
        document.getElementById('btn-clear').title = t.clearHint;
        document.getElementById('btn-expand').title = t.expandHint;
        document.getElementById('btn-theme').title = t.themeHint;
        
        // Update error message if present
        if (treeView.querySelector('.error')) {
            treeView.innerHTML = `<div class="error">‚ùå ${t.error}</div>`;
        }
    }

    function toggleTheme() {
        const body = document.body;
        const currentTheme = body.getAttribute('data-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        
        body.setAttribute('data-theme', newTheme);
        
        // Update button icon
        const btn = document.getElementById('btn-theme');
        btn.innerText = newTheme === 'light' ? 'üåë' : '‚òÄÔ∏è';
    }

    function clearInput() {
        document.getElementById('json-input').value = '';
        document.getElementById('tree-view').innerHTML = `<div style="opacity: 0.5; margin-top: 20px; text-align: center;" id="lbl-placeholder">${i18n[currentLang].placeholder}</div>`;
    }

    // State to track if we should expand or collapse
    let isExpanded = false; 
    function expandAll() {
        const details = document.querySelectorAll('#tree-view details');
        if (details.length === 0) return;

        isExpanded = !isExpanded; // Toggle state
        details.forEach(detail => {
            if (isExpanded) {
                detail.setAttribute('open', 'open');
            } else {
                detail.removeAttribute('open');
            }
        });
    }

    // --- 3. Core Logic: Render Tree ---

    function renderTree() {
        const inputStr = document.getElementById('json-input').value.trim();
        const treeView = document.getElementById('tree-view');
        
        if (!inputStr) {
            treeView.innerHTML = `<div style="opacity: 0.5; margin-top: 20px; text-align: center;">${i18n[currentLang].placeholder}</div>`;
            return;
        }

        try {
            // 1. Parse JSON
            const jsonObj = JSON.parse(inputStr);
            
            // 2. Clear previous result
            treeView.innerHTML = '';

            // 3. Build Tree
            const rootList = document.createElement('ul');
            const rootItem = createNode(null, jsonObj);
            rootList.appendChild(rootItem);
            treeView.appendChild(rootList);

            // Auto-expand the root level
            const rootDetails = rootItem.querySelector('details');
            if(rootDetails) rootDetails.setAttribute('open', 'open');

        } catch (e) {
            treeView.innerHTML = `<div class="error">‚ùå ${i18n[currentLang].error}<br><br><small>${e.message}</small></div>`;
        }
    }

    /**
     * Recursive function to create tree nodes
     * @param {string|null} key - The key name (null for root)
     * @param {any} value - The value (object, array, string, number, etc.)
     */
    function createNode(key, value) {
        const li = document.createElement('li');
        
        // Determine type
        const isArray = Array.isArray(value);
        const isObject = value !== null && typeof value === 'object';
        const isComposite = isArray || (isObject && !isArray);

        if (isComposite) {
            const details = document.createElement('details');
            const summary = document.createElement('summary');
            const ul = document.createElement('ul');

            // Create summary content (Icon + Key + Count)
            const nodeWrapper = document.createElement('div');
            nodeWrapper.className = 'tree-node-wrapper';

            // Icon
            const icon = document.createElement('span');
            icon.className = `tree-icon ${isArray ? 'array' : 'folder'}`;
            nodeWrapper.appendChild(icon);

            // Key (if exists)
            if (key !== null) {
                const keySpan = document.createElement('span');
                keySpan.className = 'key';
                keySpan.innerText = `"${key}"`;
                nodeWrapper.appendChild(keySpan);

                const separator = document.createElement('span');
                separator.className = 'separator';
                separator.innerText = ': ';
                nodeWrapper.appendChild(separator);
            }

            // Item count / preview
            const countSpan = document.createElement('span');
            countSpan.className = 'count';
            const size = isArray ? value.length : Object.keys(value).length;
            countSpan.innerText = isArray ? `[${size}]` : `{${size}}`;
            nodeWrapper.appendChild(countSpan);

            summary.appendChild(nodeWrapper);
            details.appendChild(summary);

            // Recursively build children
            if (isArray) {
                value.forEach((item, index) => {
                    ul.appendChild(createNode(index, item));
                });
            } else {
                Object.keys(value).forEach(k => {
                    ul.appendChild(createNode(k, value[k]));
                });
            }

            details.appendChild(ul);
            li.appendChild(details);
        } else {
            // Primitive values (String, Number, Boolean, Null)
            const nodeWrapper = document.createElement('div');
            nodeWrapper.className = 'tree-node-wrapper';

            // Icon for file/prop
            const icon = document.createElement('span');
            icon.className = 'tree-icon file';
            nodeWrapper.appendChild(icon);

            // Key
            if (key !== null) {
                const keySpan = document.createElement('span');
                keySpan.className = 'key';
                keySpan.innerText = `"${key}"`;
                nodeWrapper.appendChild(keySpan);

                const separator = document.createElement('span');
                separator.className = 'separator';
                separator.innerText = ': ';
                nodeWrapper.appendChild(separator);
            }

            // Value styling
            const valueSpan = document.createElement('span');
            if (typeof value === 'string') {
                valueSpan.className = 'string';
                valueSpan.innerText = `"${value}"`;
            } else if (typeof value === 'number') {
                valueSpan.className = 'number';
                valueSpan.innerText = value;
            } else if (typeof value === 'boolean') {
                valueSpan.className = value ? 'boolean-true' : 'boolean-false';
                valueSpan.innerText = value;
            } else if (value === null) {
                valueSpan.className = 'null';
                valueSpan.innerText = 'null';
            }

            nodeWrapper.appendChild(valueSpan);
            li.appendChild(nodeWrapper);
        }

        return li;
    }

    // Initialize specific UI states on load if needed
    window.onload = function() {
        // You could verify theme preference from localStorage here
    };
</script>
</body>
</html>